{% extends 'king_admin/index.html' %}
{% load tags %}


{% block container %}
    {{ admin_class.list_display }}
    {{ querysets }}
    <div>
       <form>
           {% for filter_column in admin_class.list_filter %}

              {% build_filter_ele filter_column  admin_class%}

           {% endfor %}
           <input type="submit" value="过滤">

       <div class="row">

           <div class="col-lg-2">
               <input type="search" class="form-control" name="_q", value="{{ search_text }}">
           </div>
           <div class="col-lg-2">
               <button type="submit" class="btn btn-success">搜索</button>
           </div>
       </div>

       </form>
    </div>

    <div class="panel panel-info">
        <div class="panel-heading">
            <h3 class="panel-title">{% get_model_name admin_class %}
                <a href="{{ request.path }}/add/" class="pull-right">Add</a>
            </h3>

        </div>
        <div class="panel-body">
            <table class="table table-hover">
                <thead>
                   <tr>
                       {% for colum in admin_class.list_display %}
                       <th>{{ colum }}</th>
                       {% endfor %}
                   </tr>
                <tbody>

                       {% for obj in querysets %}
                           <tr>{% build_table_row request obj admin_class %}</tr>
                       {% endfor %}
                </tbody>

                </thead>

            </table>
{#                 <nav aria-label="...">#}
{#            <ul class="pagination">#}
{#             <li class="disabled"><a href="#" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a></li>#}
{#             <li class="active"><a href="#">1 <span class="sr-only">(current)</span></a></li>#}
{#           </ul>#}
{#                 </nav>#}

             {% render_paginator querysets %}
        <div class="pagination">
            <span class="step-links">
                {% if querysets.has_previous %}
                 <a href="?_page={{ querysets.previous_page_number }}">上一页</a>
                {% endif %}
                 <span class="current">
                     Page {{ querysets.number }} of {{ querysets.paginator.num_pages}}


                 </span>
                  {% if querysets.has_next %}
                   <a href="?_page={{ querysets.next_page_number }}">下一页</a>
                   {% endif %}
            </span>

        </div>
        </div>

    </div>
{% endblock %}
